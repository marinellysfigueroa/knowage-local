if((!moment||!later)&&(typeof require!=="undefined")){var moment=require("moment");var later=require("later")}(function(){var numberList=function(numbers){if(numbers.length<2){return moment()._locale.ordinal(numbers)}var last_val=numbers.pop();return numbers.join(", ")+" and "+moment()._locale.ordinal(last_val)};var numberToDateName=function(value,type){if(type=="dow"){return moment().day(value-1).format("ddd")}else{if(type=="mon"){return moment().month(value-1).format("MMM")}}};var dateList=function(numbers,type){if(numbers.length<2){return numberToDateName(""+numbers[0],type)}var last_val=""+numbers.pop();var output_text="";for(var i=0,value;value=numbers[i];i++){if(output_text.length>0){output_text+=", "}output_text+=numberToDateName(value,type)}return output_text+" and "+numberToDateName(last_val,type)};var zeroPad=function(x){return(x<10)?"0"+x:x};var scheduleToSentence=function(schedule){var output_text="Every ";if(schedule.h&&schedule.m&&schedule.h.length<=2&&schedule.m.length<=2){var hm=[];for(var i=0;i<schedule.h.length;i++){for(var j=0;j<schedule.m.length;j++){hm.push(zeroPad(schedule.h[i])+":"+zeroPad(schedule.m[j]))}}if(hm.length<2){output_text=hm[0]}else{var last_val=hm.pop();output_text=hm.join(", ")+" and "+last_val}if(!schedule.d&&!schedule.D){output_text+=" every day"}}else{if(schedule.h){if(schedule.m){output_text+=numberList(schedule.m)+" minute past the "+numberList(schedule.h)+" hour"}else{output_text+="minute of "+numberList(schedule.h)+" hour"}}else{if(schedule.m){if(schedule.m.length==1&&schedule.m[0]==0){output_text+="hour, on the hour"}else{output_text+=numberList(schedule.m)+" minute past every hour"}}else{output_text+="minute"}}}if(schedule.D){output_text+=" on the "+numberList(schedule.D);if(!schedule.M){output_text+=" of every month"}}if(schedule.d){if(schedule.D){output_text+=" and every "}else{output_text+=" on "}output_text+=dateList(schedule.d,"dow")}if(schedule.M){output_text+=" in "+dateList(schedule.M,"mon")}return output_text};var toString=function(cronspec,sixth){var schedule=later.parse.cron(cronspec,sixth);return scheduleToSentence(schedule.schedules[0])};var getNextDate=function(cronspec,sixth){var schedule=later.parse.cron(cronspec,sixth);return later.schedule(schedule).next()};var getNext=function(cronspec,sixth){return moment(getNextDate(cronspec,sixth)).calendar()};var global_obj=(typeof exports!=="undefined"&&exports!==null)?exports:window.prettyCron={};global_obj.toString=toString;global_obj.getNext=getNext;global_obj.getNextDate=getNextDate}).call(this);