<md-dialog style='width:50%;'>
      
   <md-toolbar class="miniheadfederation">
		<div class="md-toolbar-tools">
			<h2 class="md-flex">{{translate.load("sbi.ds.editScript")}}</h2>
			<span flex=""></span>
		</div>	
	</md-toolbar>
   
   <md-dialog-content>
   
	   <div flex=100>
		   <md-card layout-padding>
				<md-input-container class="md-block" > 
			       <label>{{translate.load("sbi.functionscatalog.language")}}</label>
			       <md-select  aria-label="dropdown" placeholder ="{{translate.load('sbi.behavioural.lov.placeholder.script')}}"
			       		name ="scriptLanguageDropdown" 
			        	ng-model="selectedDataSet.queryScriptLanguage"
			        	ng-change="modeChanged(selectedDataSet.queryScriptLanguage); setFormDirty()">
				        <md-option ng-repeat="l in listOfScriptTypes track by $index" value="{{l.VALUE_CD}}">
				        	{{l.VALUE_NM}} 
			        	</md-option>
			       </md-select>   
		        </md-input-container>		
		   </md-card>  
	   </div>
	   
	   <md-tabs md-dynamic-height  md-border-bottom="">	            			
			 <md-tab label='{{translate.load("sbi.ds.script");}}'>
			 	<md-content flex class="ToolbarBox miniToolbar noBorder codeMirrorScriptEditor">
					<md-card >
						<md-input-container class="md-block noPadding">		    	
							<div  	
								ui-codemirror 
								ui-codemirror-opts="cmOption" 
								ui-refresh='forceRefresh'
								ng-model="selectedDataSet.queryScript" 
								md-select-on-focus 
								ng-change="setFormDirty()"
								></div>
						</md-input-container>
					</md-card>
				</md-content>
			</md-tab>
			<md-tab label='{{translate.load("sbi.ds.query");}}'>
			 	<md-content flex class="ToolbarBox miniToolbar noBorder codeMirrorScriptEditor">
					<md-card>
						<md-input-container class="md-block noPadding">
							<ui-codemirror  	
								ng-model="selectedDataSet.query" 
								ui-refresh='forceRefresh'
								ui-codemirror-opts="codemirrorOptions" 
								ng-change="setFormDirty()"></ui-codemirror>
						</md-input-container>
					</md-card>
				</md-content>
			</md-tab>
		</md-tabs>
   		
   </md-dialog-content>

    <md-dialog-actions layout="row">
	    <md-button ng-click="closeScript()" class="md-raised md-primary" >
	    	{{translate.load("sbi.federationdefinition.template.button.close")}}
	    </md-button>
	    <md-button ng-click="saveScript()" class="md-raised md-primary"  md-autofocus>
	        {{translate.load("sbi.federationdefinition.template.button.save")}}
	    </md-button>
    </md-dialog-actions>
</md-dialog>